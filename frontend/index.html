<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>ğŸŒ¿ KOLBR â€” Siga o Smart Money Solana em Tempo Real</title>
<meta name="description" content="Monitore 22 wallets de KOLs brasileiros de Solana. PnL em Reais, anÃ¡lise IA em PT-BR e alertas instantÃ¢neos. GrÃ¡tis.">
<meta name="keywords" content="KOL, Solana, memecoins, trading, Helius, GPT-4, Brasil">
<!-- Open Graph -->
<meta property="og:title" content="ğŸŒ¿ KOLBR â€” Siga o Smart Money Solana em Tempo Real">
<meta property="og:description" content="Monitore 22 wallets de KOLs brasileiros de Solana. PnL em Reais, anÃ¡lise IA em PT-BR e alertas instantÃ¢neos. GrÃ¡tis.">
<meta property="og:url" content="https://kolbr-entry.up.railway.app/">
<meta property="og:image" content="https://kolbr-entry.up.railway.app/images/og-1200x630.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:type" content="website">
<meta property="og:locale" content="pt_BR">
<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@WeedzinxD">
<meta name="twitter:title" content="ğŸŒ¿ KOLBR â€” Siga o Smart Money Solana em Tempo Real">
<meta name="twitter:description" content="Monitore 22 wallets de KOLs brasileiros de Solana. PnL em Reais, anÃ¡lise IA em PT-BR e alertas instantÃ¢neos. GrÃ¡tis.">
<meta name="twitter:image" content="https://kolbr-entry.up.railway.app/images/og-1200x630.png">
<meta name="theme-color" content="#04080c">
<link rel="icon" type="image/svg+xml" href="images/favicon.svg">
<link rel="apple-touch-icon" href="images/favicon.svg">
<link rel="manifest" href="manifest.json">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500;700&family=Bebas+Neue&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/design-tokens.css">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/components.css">
</head>
<body>
<div class="glc"></div><div class="glr"></div>
<div class="wrap">
<header role="banner">
<!-- BANNER SETUP (mostrar quando Helius nÃ£o configurado) -->
<div id="banner-setup" class="banner-setup" style="display:none" role="alert">
  <div class="banner-inner">
    <span>âš™ï¸ Configure HELIUS_API_KEY no Railway para monitorar trades em tempo real.</span>
  </div>
</div>

<!-- TOPBAR -->
<div class="topbar">
  <div class="logo">
    <div class="lhex" aria-label="KOLBR Logo">
    <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
      <rect width="28" height="28" rx="6" fill="#0f1a12"/>
      <text x="7" y="19" font-family="'IBM Plex Mono',monospace" font-size="13" font-weight="700" fill="#6abf7b">K</text>
    </svg>
  </div>
    <div><h1>KOLBR</h1><p>Powered by Helius + GPT-4o mini ğŸŒ¿</p></div>
  </div>
  <div class="trr">
    <div class="brlbox"><div><div class="bl">USD / BRL</div><div class="bv" id="brlVal">R$ 5,12</div></div></div>
    <div class="ctog"><button id="btnBRL" class="active" onclick="setCur('BRL')">R$</button><button id="btnUSD" onclick="setCur('USD')">$</button></div>
    <div class="livebadge" id="wsStatus" aria-live="polite" aria-label="Status da conexÃ£o" title="WebSocket: conectando"><div class="dot status-dot" id="wsDot" data-status="connecting"></div><span id="liveLabel">CONECTANDO...</span></div>
    <button class="cfg-btn" onclick="openSettingsModal()" title="ConfiguraÃ§Ãµes" aria-label="Abrir configuraÃ§Ãµes">âš™</button>
    <a href="https://x.com/WeedzinxD" target="_blank" rel="noopener" class="topbar-creator" aria-label="@WeedzinxD no X">by @WeedzinxD</a>
  </div>
</div>
</header>

<!-- HERO COMPACTO -->
<section class="hero-compact" aria-label="Status">
  <div class="hero-compact-inner">
    <div class="hero-compact-title">
      <span class="hct-label">KOLBR</span>
      <span class="hct-sep">â€”</span>
      <span class="hct-sub">Smart Money Solana BR em tempo real</span>
    </div>
    <div class="hero-compact-stats">
      <div class="hcs-item">
        <span class="hcs-val" id="heroWallets">22</span>
        <span class="hcs-lbl">wallets</span>
      </div>
      <div class="hcs-sep">Â·</div>
      <div class="hcs-item">
        <span class="hcs-val" id="heroTrades">â€”</span>
        <span class="hcs-lbl">trades</span>
      </div>
      <div class="hcs-sep">Â·</div>
      <div class="hcs-item">
        <span class="hcs-val" id="heroLastEntry">â€”</span>
        <span class="hcs-lbl">Ãºltima entrada</span>
      </div>
    </div>
  </div>
</section>

<main role="main">
<!-- STATS -->
<div class="stats">
  <div class="stat s1"><div class="slbl">Wallets</div><div class="sval ca" id="stW">0</div></div>
  <div class="stat s2">
    <div class="slbl">PNL TOTAL <span class="pnl-period-badge" id="pnlPeriodBadge">DIÃRIO</span></div>
    <div class="sval" id="stP">â€”</div>
    <div class="ssub" id="stPs">Aguardando dados...</div>
  </div>
  <div class="stat s3"><div class="slbl">Trades ao Vivo</div><div class="sval cy" id="stT">0</div></div>
  <div class="stat s4"><div class="slbl">Alertas Ativos</div><div class="sval cp" id="stA">0</div></div>
</div>

<nav class="tabs" role="navigation" aria-label="Abas principais">
  <button class="tab active" onclick="sw('wallets',this)">ğŸ“Š KOL Wallets</button>
  <button class="tab" onclick="sw('trades',this)">âš¡ Trades Ao Vivo <span class="tbadge" id="tBadge">0</span></button>
  <button class="tab" onclick="sw('alerts',this)">ğŸ”” Alertas <span id="aBadge" style="display:none;background:var(--red);color:#fff;border-radius:2px;font-size:9px;padding:1px 5px;font-weight:700">0</span></button>
</nav>

<!-- â•â•â• WALLETS â•â•â• -->
<div id="tab-wallets">
  <div class="controls">
    <div class="ig grow"><label>ğŸ” Buscar KOL / Wallet</label><input type="text" id="srch" placeholder="Nome, @handle ou endereÃ§o..." autocomplete="off" aria-label="Buscar KOL ou wallet"></div>
    <div class="ig"><label>PerÃ­odo</label><select id="pFil" onchange="onPeriodChange()"><option value="D">DiÃ¡rio</option><option value="W">Semanal</option></select></div>
    <button class="btn bg" id="reloadWalletsBtn" onclick="forceRefreshPnL()" title="ForÃ§ar atualizaÃ§Ã£o de PnL">ğŸ”„ RECARREGAR WALLETS</button>
    <button class="btn bg" onclick="openAddWalletModal()" title="Adicionar wallet customizada">â• ADICIONAR WALLET</button>
  </div>
  <div class="custom-w-count" id="customWCount" style="display:none">0/10 wallets customizadas</div>
  <div class="frow">
    <span class="flbl">Filtro:</span>
    <button class="chip active" onclick="setF('all',this)">Todos</button>
    <button class="chip" onclick="setF('top',this)">Top 10</button>
    <button class="chip" onclick="setF('pnlpos',this)">PnL Positivo</button>
    <button class="chip" onclick="setF('alert',this)">Alerta ON</button>
    <button class="chip" onclick="setF('custom',this)">ğŸ‘¤ Minhas Wallets</button>
  </div>
  <div class="twrap">
    <div class="wallets-table-view">
    <table role="table" aria-label="Tabela de KOL Wallets">
      <thead><tr><th onclick="sb('rankPnl')">RANKâ†•</th><th onclick="sb('name')">KOLâ†•</th><th>WALLET</th><th onclick="sb('pnl')"><span>PnLâ†•</span><span class="th-tip" title="Lucro ou prejuÃ­zo em R$ ou USD" onclick="event.stopPropagation()">?</span></th><th onclick="sb('winRate')"><span>WIN RATEâ†•</span><span class="th-tip" title="Porcentagem de trades lucrativos" onclick="event.stopPropagation()">?</span></th><th onclick="sb('trades')">TRADESâ†•</th><th><span>VOL 24H</span><span class="th-tip" title="Volume negociado nas Ãºltimas 24h" onclick="event.stopPropagation()">?</span></th><th>ALERTA</th></tr></thead>
      <tbody id="wBody"></tbody>
    </table>
    </div>
    <div class="wallets-card-view" id="wCards"></div>
    <div id="emptyW" class="empty empty-wallets" style="display:none" hidden aria-live="polite" aria-hidden="true">
      <div class="empty-w-icon">ğŸ“­</div>
      <h3 class="empty-w-title">Nenhuma wallet encontrada com esses filtros</h3>
      <p class="empty-w-desc">Tente remover alguns filtros ou clique em RECARREGAR</p>
      <button type="button" class="empty-w-btn" onclick="limparFiltros()">Ver todas as wallets</button>
    </div>
  </div>
</div>

<!-- â•â•â• TRADES â•â•â• -->
<div id="tab-trades" style="display:none">
  <div class="tlay">
    <div class="tfeed">
      <div class="tfhdr">
        <div class="tftitle"><span class="dot"></span>TRADES EM TEMPO REAL</div>
        <div class="tfc">
          <select id="ttFil" onchange="applyTFilter()"><option value="all">Compra + Venda</option><option value="buy">SÃ³ Compras</option><option value="sell">SÃ³ Vendas</option></select>
          <button class="btn br bsm" onclick="clearTrades()">LIMPAR</button>
        </div>
      </div>
      <div class="thead-t"><div>HORA</div><div>TOKEN</div><div>TIPO</div><div>VALOR</div><div>MARKET CAP</div><div>KOL</div><div>IDADE</div></div>
      <div id="tBody"></div>
      <div id="tEmpty" class="empty"><div class="ei">ğŸ“¡</div><p id="tEmptyMsg">Aguardando trades dos KOLs...</p><small id="tEmptySub"></small></div>
<div id="tSkeleton" class="t-skeleton" style="display:none"></div>
    </div>
    <!-- TOKEN DETAIL PANEL -->
    <div class="tpanel" id="tokenPanel">
      <div class="tphdr"><div class="tptitle">DETALHE DO TOKEN</div><div class="tpsub">Clique em um trade para ver</div></div>
      <div id="tokDetail"><div class="tpempty detail-empty" id="tokDetailEmpty"><div class="ei">ğŸ“¡</div><h3>Aguardando trades</h3><p>Clique em um trade no feed para ver market cap, liquidez e anÃ¡lise IA.</p><small>Configure sua API Key para receber trades em tempo real.</small></div></div>
    </div>
  </div>
</div>

<!-- â•â•â• ALERTS â•â•â• -->
<div id="tab-alerts" style="display:none">
  <div class="alay">
    <div class="afeed">
      <div class="afhdr">
        <div class="aftitle">âš¡ FEED DE ALERTAS</div>
        <div style="display:flex;gap:6px">
          <button class="btn br bsm" onclick="clearAlerts()">LIMPAR</button>
        </div>
      </div>
      <div class="aflist" id="aList"><div class="noalert">Nenhum alerta â€” ative o rastreamento nas wallets</div></div>
    </div>
    <div class="cfgpanel">
      <div class="cfghdr">âš™ï¸ NOTIFICAÃ‡ÃƒO</div>
      <div class="cfgbody">
        <div class="notif-toggle-row cfgrow">
        <span class="cfglbl">NotificaÃ§Ãµes</span>
        <label class="toggle-switch">
          <input type="checkbox" id="cfgNotif" checked>
          <span class="toggle-track"><span class="toggle-thumb"></span></span>
        </label>
        <span class="toggle-label" id="cfgNotifLabel">ğŸ”Š Som ativo</span>
      </div>
        <div class="cfgrow"><button class="btn bg bsm" onclick="openSettingsModal()">âš™ï¸ Prompt IA (ANALISAR)</button></div>
      </div>
    </div>
  </div>
</div>

<div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>

</main>
<footer class="app-footer">
  <div class="footer-links">
    <span>KOLBR ğŸŒ¿</span>
    <span>Â·</span>
    <a href="https://x.com/WeedzinxD" target="_blank" rel="noopener">@WeedzinxD</a>
    <span>Â·</span>
    <a href="https://webpelotas.netlify.app/" target="_blank" rel="noopener">Web Pelotas</a>
    <span>Â·</span>
    <span id="lastUpdate">â€”</span>
  </div>
</footer>
</div><!-- /wrap -->

<!-- â•â•â• SETTINGS MODAL (Prompt IA, etc.) â•â•â• -->
<div class="moverlay" id="settingsOverlay" onclick="closeSettingsBg(event)" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" onclick="event.stopPropagation()">
    <button class="mx" onclick="closeSettingsModal()" aria-label="Fechar">âœ•</button>
    <div class="mtitle">CONFIGURAÃ‡Ã•ES</div>
    <div class="msub">Prompt IA usado no botÃ£o ANALISAR</div>
    <div class="mrow">
      <label>InstruÃ§Ãµes adicionais (opcional)</label>
      <textarea id="aiPrompt" rows="5" placeholder="InstruÃ§Ãµes opcionais (ex: priorize tokens &lt; $100k MC, desconfie de taxas &gt; 5%...)" style="background:var(--surface);border:1px solid var(--border);color:var(--text);font-family:var(--mono);font-size:12px;padding:9px;outline:none;width:100%;resize:vertical;min-height:80px"></textarea>
      <div style="font-family:var(--mono);font-size:9px;color:var(--muted2);margin-top:4px">Adicionado ao prompt profissional base. Deixe vazio para usar sÃ³ o padrÃ£o.</div>
    </div>
    <div style="display:flex;gap:8px;margin-top:8px">
      <button type="button" class="btn bsm" onclick="togglePromptPreview()">ğŸ‘ Ver prompt base</button>
    </div>
    <div id="promptPreview" style="display:none;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);border-radius:4px;padding:10px;margin-top:8px;font-family:var(--mono);font-size:9px;color:rgba(255,255,255,0.5);max-height:200px;overflow-y:auto;white-space:pre-wrap;line-height:1.6"></div>
    <div style="display:flex;gap:8px;margin-top:12px">
      <button class="btn bp" onclick="saveAIPrompt();closeSettingsModal()">SALVAR</button>
      <button class="btn by" onclick="resetAIPrompt()">RESETAR</button>
    </div>
  </div>
</div>

<!-- â•â•â• KOL MODAL â•â•â• -->
<div class="moverlay" id="kolOverlay" onclick="closeKbg(event)" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="kmodal">
    <button class="mx" onclick="closeKol()" aria-label="Fechar">âœ•</button>
    <div class="mtitle" id="kTitle"></div>
    <div class="msub" id="kSub"></div>
    <div class="msec2">ğŸ”” ALERTA DE ENTRY</div>
    <div style="display:flex;align-items:center;gap:10px;margin-bottom:14px">
      <button class="btn bsm bg kABtn-state" id="kABtn" onclick="togKA()">ATIVAR ALERTA</button>
      <span style="font-family:var(--mono);font-size:10px;color:var(--muted)">Notificar quando esta wallet fizer um trade</span>
    </div>
    <div class="mgrid" id="kStats"></div>
    <div class="msec2">ğŸ• ÃšLTIMOS TRADES</div>
    <div id="kLastTrades" class="k-last-trades"></div>
    <div class="msec2">ğŸ”— LINKS</div>
    <div class="kmlinks" id="kLinks"></div>
    <button type="button" class="btn by bsm" id="kShareBtn" style="margin-top:12px" onclick="shareKOLFromModal()" title="Compartilhar no X">ğ• Compartilhar KOL</button>
  </div>
</div>

<!-- â•â•â• ADD WALLET MODAL â•â•â• -->
<div class="moverlay" id="addWalletOverlay" onclick="closeAddWalletBg(event)" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="modal" onclick="event.stopPropagation()">
    <button class="mx" onclick="closeAddWalletModal()" aria-label="Fechar">âœ•</button>
    <div class="mtitle">â• ADICIONAR WALLET</div>
    <div class="msub">Monitore qualquer wallet Solana (mÃ¡x 10)</div>
    <div class="mrow">
      <label>EndereÃ§o Solana (Base58)</label>
      <input type="text" id="awAddress" placeholder="Cole o endereÃ§o Base58 da wallet..." maxlength="44" autocomplete="off">
      <span id="awAddressErr" class="input-err" style="display:none">âŒ EndereÃ§o Solana invÃ¡lido</span>
    </div>
    <div class="mrow">
      <label>Apelido (mÃ¡x 20 caracteres)</label>
      <input type="text" id="awName" placeholder="Ex: trader anon, meu amigo..." maxlength="20">
    </div>
    <div class="mrow">
      <label>Twitter/X (opcional)</label>
      <input type="text" id="awTwitter" placeholder="@handle">
    </div>
    <div class="mrow" style="flex-direction:row;align-items:center;gap:8px">
      <input type="checkbox" id="awAlert" checked>
      <label for="awAlert" style="margin:0">Ativar alerta imediatamente</label>
    </div>
    <div id="awLimitMsg" class="input-err" style="display:none">Limite de 10 wallets atingido. Remova uma para adicionar outra.</div>
    <div style="display:flex;gap:8px;margin-top:12px">
      <button type="button" class="btn bp" onclick="saveAddWallet()">ADICIONAR</button>
      <button type="button" class="btn" onclick="closeAddWalletModal()">CANCELAR</button>
    </div>
  </div>
</div>

<!-- ONBOARDING TOOLTIP (1x) -->
<div id="onboardingOverlay" class="onboarding-overlay" style="display:none" aria-hidden="true">
  <div class="onboarding-card">
    <h3>Bem-vindo ao KOLBR ğŸš€</h3>
    <ol class="onboarding-steps">
      <li><strong>1.</strong> Veja as wallets dos KOLs na tabela</li>
      <li><strong>2.</strong> Clique em um trade para ver detalhes + anÃ¡lise IA</li>
      <li><strong>3.</strong> Ative alertas para ser notificado quando um KOL entrar</li>
    </ol>
    <button type="button" class="btn bp" onclick="closeOnboarding()">Entendi!</button>
  </div>
</div>

<script type="module" src="js/app.js"></script>

</body>
</html>
